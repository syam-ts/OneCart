<%- include('../partials/header') %>

<main>
  <!-- flash configuration -->
    <% if (chart[1] && chart[1].msg && chart[1].msg.length > 0)  { %>
        <div id="flashMessage" style="background-color: #d4edda; text-align: center; padding: 10px; font-family: 'Courier New', Courier, monospace;">
            <%- chart[1].msg %>
        </div>
        <script>
         setTimeout(function() {
              var flashMessage = document.getElementById('flashMessage');
              flashMessage.style.display = 'none';
          }, 2000); 
      </script>
    <% } %>
    
<section class=" h-14 text-center mt-3 p-4">
    <span class="michroma-regular">NEW ARRIVALS</span>
</section>

<!-- carousel -->
<section class="mt-3">
  <div class="carousel w-full h-600">
      <div id="item1" class="carousel-item w-full">
        <img src="https://demo-kalles-4-1.myshopify.com/cdn/shop/files/slider-01.jpg?v=1652056793" class="w-full h-600 object-cover" style="height: 600px;" />
      </div> 
      <div id="item2" class="hidden carousel-item w-full">
        <img src="/images/image-tourist-checking-out-something-cool-takeoff-sunglasses-say-wow-looking-aside-impressed.jpg" class="w-full h-600 object-cover" style="height: 600px;" />
      </div> 
      <div id="item3" class="hidden carousel-item w-full">
        <img src="https://demo-kalles-4-1.myshopify.com/cdn/shop/files/slide2.jpg?v=1682405064&width=2200" class="w-full h-600 object-cover" style="height: 600px;" />
      </div> 
  </div> 
  <div class="flex justify-center w-full py-2 gap-2 mt-4">
      <a href="#item1" class="btn btn-xs" onclick="showItem('item1')"><div class="w-3 h-3 rounded-full animate-pulse bg-gray-600"></div></a> 
      <a href="#item2" class="btn btn-xs" onclick="showItem('item2')"><div class="w-3 h-3 rounded-full animate-pulse bg-gray-600"></div></a> 
      <a href="#item3" class="btn btn-xs" onclick="showItem('item3')"><div class="w-3 h-3 rounded-full animate-pulse bg-gray-600"></div></a> 
  </div>
</section>

<section class=" h-14 text-center mt-3 p-4">
    <span class="text-gray-900 michroma-regular">CATEGORIES</span>
</section>

<section class="w-full mt-3 flex p-16" style="height: 745px;">
    <a href=""><img src="https://demo-kalles-4-1.myshopify.com/cdn/shop/files/1_2a9471ff-024d-40f7-a4b3-a15a058ff334_2022-03-24.jpg?v=1652056987&width=700" alt=""  class="object-cover ml-36" style="width: 510px; height:630px"></a>
    <div class="grid">
        <a href=""><img src="https://demo-kalles-4-1.myshopify.com/cdn/shop/files/04_720x_e9fa28ca-2048-4d27-82bf-695916dc2c8b.jpg?v=1652661868&width=600" alt=""  class="object-cove ml-36" style="height: 250px;width: 554px;"></a>
        <a href=""><img src="https://www.lip.fr/c/22-category_default/panoramic.jpg" alt=""  class="object-cover ml-36 mt-32"  style="height: 250px;width: 554px;"></a>
    </div>
  </section> 

  <section class=" h-14 text-center mt-16 p-4 justify-center flex">
    <hr class="w-96">
    <span class="text-gray-900 michroma-regular">TRENDING</span>
    <hr class="w-96">
</section>

<!-- Products -->
<section class="ml-20">
    <div class="bg-white ">
        <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
            <div class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
                <% chart[0].forEach((product) => { %>
                <div class="group relative">


                  <div class="relative aspect-h-1 h-[350px] sm:h-[450px] overflow-hidden">
                    <img
                    src="/product_images/<%= product.productImage[0] %>"
                    alt=""
                    class="absolute inset-0 w-full object-fill rounded-md h-88 opacity-100 group-hover:opacity-0"
                    />
                    
                    <img
                    src="/product_images/<%= product.productImage[1] %>"
                    alt=""
                    class="absolute inset-0 w-full object-fill rounded-md h-88 opacity-0 group-hover:opacity-100"
                    />
                    </div>


                    
                    <div class=" flex justify-between">
                        <div>
                            <h3 class="text-sm text-gray-700">
                                <a href="/product/<%= product._id %>">
                                    <span aria-hidden="true" class="absolute inset-0"></span>
                                    <%= product.productName %>
                                </a>
                            </h3>
                            <p class="mt-1 text-sm text-gray-500"><%= product.color %></p>
                        </div>
                        <p class="text-sm font-medium text-gray-900"><%= product.price %>₹</p>
                    </div>
                </div>
                <% }) %>
      
            </div>
        </div>
    </div>
</section>

<section class="text-center mt-5">
    <button class="rounded-full h-10 text-red hover:before:bg-redborder-red-500 relative hover:bg-gray-500 w-40 overflow-hidden border-2 border-gray-500 bg-white px-3 text-gray-500 font-bold shadow-2xl transition-all before:absolute before:bottom-0 before:left-0 before:top-0 before:z-0 before:h-full before:w-0 before:bg-cyan-500 before:transition-all before:duration-500 hover:border-0 hover:text-white hover:shadow-red-500 hover:before:left-0 hover:before:w-full">
        <span class="relative z-10">Load More
        </span>
    </button>
</section>
<br>
    <div class="flex justify-center">
       <hr class="border-gray-600 border-1 w-8/12">
    </div>


    <section class="w-full h-80  flex justify-center items-center mt-48">

      <div class="relative flex bg-clip-border  bg-white text-gray-700 shadow-md w-full max-w-[48rem] flex-row">
        <div
          class="relative w-2/5 m-0 overflow-hidden text-gray-700 bg-white  bg-clip-border  shrink-0">
          <img
            src="/images/mathilde-langevin-LdPzzJcrPLM-unsplash.jpg"
            alt="card-image" class="object-cover w-full h-96" />
        </div>
        <div class="p-6">
          <h6
            class="block mb-4 font-sans text-base antialiased font-semibold leading-relaxed tracking-normal text-gray-700 uppercase">
            *
          </h6>
          <h4 class="block mb-2 font-sans text-2xl antialiased font-semibold leading-snug tracking-normal text-blue-gray-900">
            Brands
          </h4>
        
          <p class="block mb-8 font-sans text-base antialiased font-normal leading-relaxed text-gray-700">
            The immersive collection of different brands ,which are :
            <% chart[0].forEach((product) => { %>
            <%= product.brand %>
          </p>
          <% }) %>
          <a href="#" class="inline-block"><button
              class="flex items-center gap-2 px-6 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none hover:bg-gray-900/10 active:bg-gray-900/20"
              type="button">
              Learn More<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                stroke-width="2" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path>
              </svg></button></a>
        </div>
      </div>  
      
    </section>

    <section class="mt-48 w-full h-72 bg-stone-200 text-center py-28">
      <% chart[0].forEach((product) => { %>
  <span class="text-xl font-bold px-32">  <%= product.brand %></span>
  <% }) %>
    </section>

    <section class="mt-24">
        <div class="text-center">
            <span class="michroma-regular text-gray-900">BEST SELLER</span>
        </div>
      
          <div class="bg-white ">
              <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
                  <div class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
                      <% chart[0].forEach((product) => { %>
                        <% if (product.extras == 'newArrivals') { %>
                      <div class="group relative">
                          <div class="group-hover:scale-110 transition-all duration-300  aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-transparent lg:aspect-none group-hover:opacity-75 lg:h-80">
                              <img src="/product_images/<%= product.productImage[0] %>">
                          </div>
                          <div class="mt-4 flex justify-between">
                              <div>
                                  <h3 class="text-sm text-gray-700">
                                      <a href="/product/<%= product._id %>">
                                          <span aria-hidden="true" class="absolute inset-0"></span>
                                          <%= product.productName %>
                                      </a>
                                  </h3>
                                  <p class="mt-1 text-sm text-gray-500"><%= product.color %></p>
                              </div>
                              <p class="text-sm font-medium text-gray-900"><%= product.price %>₹</p>
                          </div>
                      </div>
                     <% } %>
                  <% }) %>
                  </div>
              </div>
          </div>
</section>
 <!-- Pagination setup 
<section>

 <div class="flex justify-center mt-8">
  <button class="font-thin  hover:bg-gray-300 px-3 py-1 rounded-l "> < </button>
  <span class="font-thin  px-3 py-1">1</span>
  <span class="font-thin  px-3 py-1">2</span>
 
  <button class="font-thin  hover:bg-gray-300 px-3 py-1 rounded-r"> > </button>
</div>
</section> -->
   



<script>
  function showItem(itemId) {
    var items = document.querySelectorAll('.carousel-item');
    items.forEach(function(item) {
      item.classList.add('hidden');
    });
    document.getElementById(itemId).classList.remove('hidden');
  }
  var currentItem = 1;
  var totalItems = 3;

  function autoSlide() {
    var items = document.querySelectorAll('.carousel-item');
    items.forEach(function(item) {
      item.classList.add('hidden');
    });
    document.getElementById('item' + currentItem).classList.remove('hidden');
    currentItem = (currentItem % totalItems) + 1;
  }
  setInterval(autoSlide, 3000);
</script>
</main>


<%- include('../partials/footer') %>
